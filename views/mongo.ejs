<!DOCTYPE html>
<html>
  <head>
    <title><%= title %></title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <!-- Bootstrap 3.3.6 -->
    <link rel="stylesheet" href="/bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel='stylesheet' href='/stylesheets/style.css' />
  </head>
  <body>
      <div class="container">
          <div class="row">
              <h1 class="text-center">Mongodb Management</h1>
                <form class="form-horizontal" action='' method='post' onsubmit='return false;'>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">DBName :</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="dbName" placeholder="DBName">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Collection Name :</label>
                        <div class="col-sm-6">
                            <input type="text" class="form-control" id="collName" placeholder="Collection Name">
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Command :</label>
                        <div class="col-sm-6">
                            <select class="form-control" id="command" name='selCommand'>
                                <option value='i'>Insert</option>
                                <option value='u'>Update</option>
                                <option value='d'>Delete</option>
                                <option value='f'>Find</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Content :</label>
                        <div class="col-sm-6">
                            <textarea class="form-control" rows="3" id="document" name='document' placeholder='document'></textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Find :</label>
                        <div class="col-sm-6">
                            <textarea class="form-control" rows="3" id="find" name='find' placeholder='keyword'></textarea>
                        </div>
                    </div>
                    <div class="text-center">
                        <button type="button" class="btn btn-primary start" name='start' id="start">start</button>
                    </div>
                    <br/>
                    <div class="form-group">
                        <label class="col-sm-4 control-label">Output :</label>
                        <div class="col-sm-6">
                            <textarea class="form-control " rows="3" id="output" name='output' placeholder='output'></textarea>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- jQuery 2.2.3 -->
        <script src="/bower_components/jquery/dist/jquery.min.js"></script>
        <!-- Bootstrap 3.3.6 -->
        <script src="/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
        <script>
            $(document).ready(function() {
                $(".start").click(function () {
                    var postData = {
                        dbName: $("#dbName").val(),
                        collName: $("#collName").val(),
                        command:$("#command").val(),
                        doc: $("#document").val(),
                        search:$("#find").val()
                        };
                    $.ajax({
                        type:"post",
                        url: '/mongo',
                        data: postData,
                        success: function (data) {
                            $("#output").val(JSON.stringify(data));
                        }
                    });
                });
            });
        </script>
  </body>
</html>
